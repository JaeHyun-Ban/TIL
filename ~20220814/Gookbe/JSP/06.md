**쿠키 세션**

---

# 1. 쿠키

Http프로토콜은 응답 후 웹 브라우저와의 **관계를 종료**한다.
연결이 끊어질 때, 어떤 정보를 **지속적으로 유지하기 위한 수단**으로 쿠키라는 방식을 사용한다
**서버에서 생성**하고 **클라이언트(브라우저)에 정보를 저장**한다
쿠키는 개당 4kb로 제한된 용량을 가진다.

## 관련 메서드(내장 객체들)

- ★setMaxAge() - 쿠기의 생존시간을 설정
- setPath() - 쿠키사용의 유효디렉토리(경로)를 설정
- setValue() - 쿠키의 값을 설정
- setVersion() - 쿠키의 버전을 설정
- getMaxAge() - 쿠키의 생존시간 정보를 얻음
- ★getName() - 쿠키의 이름을 얻음
- getPath() - 쿠키사용 유효디렉토리(경로) 정보를 얻음
- ★getValue() - 쿠키의 값을 얻음

---

# 2. 세션(Session)

쿠기와 마찬가지로 **서버와이 관계를 유지하기 위한 수단**
서버에서 생성되고, 서버에서 저장된다
세션은 서버와 쿠키가 저장되는 공간이 다르기 때문에 쿠키보다는 안전하게 저장할 수 있다.
JSP에서 쿠키보다는 `세션`이 더 보안적으로 좋다
브라우저창을 종료하면 세션은 삭제된다.

세션은 내가 필요한 것을 객체형태로 저장 가능하다(문자열 한정 x)

## 관련 메서드(내장 객체들)

- ★setAttribute() - 세션에 데이터를 저장
- ★getAttribute() - 세션에 저장된 데이터를 얻음
- getAttributeNames() - 세션에 저장되어 있는 모든 데이터 세션의 이름(key)를 얻음
- getId() - 자동생성된 세션의 유니크한 아이디
- ★removeAttribute() - **특정 세션**을 삭제
- ★invalidate() - 모든 세션 삭제(유지중인 모든 세션)

---

# 3. application 내장 객체

실제로 많이 사용되지는 않는다.

## 생명주기

- application은 프로그램 전체에서 **딱 한번**최초 가동시 생성된다
- 톰캣서버가 종료되기 전 까지 어플리케이션은 유지된다
  > 브라우저를 껏다 켜도 톰캣을 끄지 않는 이상 어플리케이션은 죽지않는다
  > 영화 좌석예매를 만들어 보았다

---

# memo

http는 커넥션리스(connextionless)통신이라고 함
서버와 클라이언트 간의 접속을 유지하기 위해 사용하는 것이 `쿠키`
`쿠키`는 클라이언트의 **브라우저**에 저장된다

실제 쿠키는 자바스크립트로 많이 사용한다고 함

서버에서 쿠키의 생명주기(사용기간)를 설정해서 보내준다

`쿠키`는 특수문자, 공백은 사용불가능, 문자열의 형태만 가능

브라우저의 정보는 request
서버의 정보는 response

서버측에서 코드를 작성하지 않는 이상 외부에서 세션을 가져갈 수 없다

> 쿠키에비해 훨씬 더 안전하다

세션 = 기본 유지시간 o, 30분

**쿠키 = 브라우저에 저장**
**세션 = 서버에 저장**

큰곳의 경우에는 서버가 여러개를 사용하는 경우가 많아서 세션또한 여러개인데
이러한 각 서버마다 세션을 묶어서 관리해주는 `세션클러스터링`이란 기능도 존재한다.

네이버나 다음같은 포털사이트는 쿠키는 여러 도메인에서 공유할 수 잇다는 점을 이용해 로그인방식을 쿠키에 저장하는 것을 선호한다.

어플리케이션은 많이 사용되는 형식은 아니라고 한다
